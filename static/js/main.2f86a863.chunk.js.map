{"version":3,"sources":["components/ImageGallery/imageGallery.module.css","components/Button/button.module.css","components/Searchbar/searchbar.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","services/news-api.js","App.js","index.js","components/ImageGalleryItem/imageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","console","log","props","onSubmit","className","styles","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","smallImage","largeImage","tags","onImageClick","src","alt","ImageGalleryItemImage","onClick","ImageGallery","hits","map","id","webformatURL","largeImageURL","Button","searchQuery","currentPage","axios","get","then","response","data","App","isLoading","error","onChangeQuery","fetchHits","options","newsApi","prevState","finally","prevProps","shouldRenderLoadMoreButton","length","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2f86a863.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__2GKD0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__1DAat\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchbar_Searchbar__1mswQ\",\"SearchForm\":\"searchbar_SearchForm__EnCsG\",\"SearchFormButton\":\"searchbar_SearchFormButton__3_7Cc\",\"SearchFormButtonLabel\":\"searchbar_SearchFormButtonLabel__Tx2Ht\",\"SearchFormInput\":\"searchbar_SearchFormInput__2ar8V\"};","// Модули\nimport React, { Component } from 'react';\n\n// Стили\nimport styles from '../Searchbar/searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = { query: '' };\n\n  handleChange = e => {\n    this.setState({\n      query: e.currentTarget.value,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    console.log(this.state);\n    this.props.onSubmit(this.state.query);\n\n    this.setState({ query: '' });\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.query}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","// Модули\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\n// Стили\nimport styles from '../ImageGalleryItem/imageGalleryItem.module.css';\n\n\nconst ImageGalleryItem = ({ smallImage, largeImage, tags, onImageClick }) => (\n  <li className={styles.ImageGalleryItem}>\n    <img\n      src={smallImage}\n      alt={tags}\n      className={styles.ImageGalleryItemImage}\n      onClick={() => onImageClick(largeImage, tags)}\n    />\n  </li>\n);\n\nImageGalleryItem.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  src: PropTypes.string.isRequired,\n};\n\n\nexport default ImageGalleryItem;\n\n","// Модули\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\n// Компоненты\nimport ImageGalleryItem from '../ImageGalleryItem';\n\n// Стили\nimport styles from '../ImageGallery/imageGallery.module.css';\n\n\nconst ImageGallery = ({ hits, onImageClick }) => (\n  <ul className={styles.ImageGallery}>\n    {hits.map(({ id, webformatURL, largeImageURL, tags }) => (\n      <ImageGalleryItem\n        key={id}\n        smallImage={webformatURL}\n        largeImage={largeImageURL}\n        tags={tags}\n        onImageClick={onImageClick}\n      />\n    ))}\n  </ul>\n);\n\n\nImageGallery.propTypes = {\n  hits: PropTypes.array.isRequired,\n};\n\n\nexport default ImageGallery;\n","// // Модули\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\n// Стили\nimport styles from './button.module.css';\n\n\nconst Button = ({ onClick }) => (\n    <button type=\"button\" onClick={onClick} className={styles.Button}>\n      Load more\n    </button>\n  );\n  \nButton.propTypes = {\n    onClick: PropTypes.func.isRequired,\n};\n\n  \nexport default Button;","import axios from 'axios';\n\nconst KEY = '21824668-10aeb8c8af54ec25684dd6884&';\n\nconst fetchHits = ({searchQuery = '', currentPage = 1}) => {\n  return axios.get(\n    `https://pixabay.com/api/?key=${KEY}&q=${searchQuery}&\n    image_type=photo&page=${currentPage}&per_page=12`,\n  )\n  .then(response => response.data.hits);\n};\n\n\nexport default { fetchHits };\n\n\n\n\n\n// import axios from 'axios';\n// const KEY = '21824668-10aeb8c8af54ec25684dd6884&';\n// axios.defaults.baseURL = 'https://pixabay.com/api/';\n// const fetchHits = async ({ searchQuery = '', currentPage = 1 }) => {\n//   return axios\n//     .get(\n//       `?q=${searchQuery}&page=${currentPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n//     )\n//     .then(response => response.data.hits);\n// };\n\n// // export default { fetchHits }\n// const exportObject = { fetchHits };\n// export default exportObject;\n\n\n\n\n\n// // Модули\n// import axios from 'axios';\n\n// const fetchHits = ({ searchQuery = '', currentPage = 1 }) => {\n//   return axios\n//     .get(\n//     `https://pixabay.com/api/?key=21824668-10aeb8c8af54ec25684dd6884&q=${searchQuery}&page=${currentPage}&image_type=photo&per_page=12`,\n//   );\n// };\n\n// export default { fetchHits };\n\n\n\n// import axios from 'axios';\n\n// axios.defaults.headers.common['Authorization'] =\n//   'Bearer 4330ebfabc654a6992c2aa792f3173a3';\n\n// const fetchArticles = ({ searchQuery = '', currentPage = 1, pageSize = 5 }) => {\n//   return axios\n//     .get(\n//       `https://newsapi.org/v2/everything?q=${searchQuery}&pageSize=${pageSize}&page=${currentPage}`,\n//     )\n//     .then(response => response.data.articles);\n// };\n\n// export default { fetchArticles };","// Модули\nimport React, { Component } from 'react';\n\n// Компоненты\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport newsApi from './services/news-api';\n\n\nclass App extends Component {\n  state = {\n    hits: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    error: null\n  };\n\n  // componentDidMount() {}\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchHits();\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({ searchQuery: query, currentPage: 1,  hits: [], error: null});\n    \n \n    \n    // this.setState({ searchQuery: query, currentPage: 1, hits: [] });\n    // this.fetchHits();\n  };\n\n  fetchHits = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { searchQuery, currentPage };\n\n    this.setState({ isLoading: true });\n\n    // newsApi.fetchHits(options)\n    //   .then(hits => {\n    //     this.setState(prevState => ({\n    //       hits: [...prevState.hits, ...hits],\n    //       currentPage: prevState.currentPage + 1,\n    //     })).catch(error => this.setState({error}))\n    //   }).finally(() => this.setState({ isLoading: false }));\n     newsApi.fetchHits(options)\n      .then(hits => {\n        this.setState(prevState => ({\n          hits: [...prevState.hits, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }))\n      }).finally(() => this.setState({ isLoading: false }));\n  };\n\n    render() {\n      const { hits, isLoading } = this.state;\n      const shouldRenderLoadMoreButton = hits.length > 0 && !isLoading;\n      return (\n\n      <div>\n          <Searchbar onSubmit={this.onChangeQuery} />\n          {isLoading && <h1>Загружаем...</h1>}\n\n          <ImageGallery hits={hits} />\n          \n          {shouldRenderLoadMoreButton &&  <Button onClick={this.fetchHits} /> }\n\n      </div>\n    );\n  }\n}\n\n\nexport default App;","// Модули\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\n// Компоненты\nimport App from './App';\n\n// Стили\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"imageGalleryItem_ImageGalleryItem__xt5gr\",\"ImageGalleryItemImage\":\"imageGalleryItem_ImageGalleryItemImage__J54Sz\"};"],"sourceRoot":""}