{"version":3,"sources":["components/Searchbar/searchbar.module.css","components/Searchbar/Searchbar.js","App.js","index.js"],"names":["module","exports","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","console","log","props","onSubmit","className","styles","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","App","hits","currentPage","searchQuery","onChangeQuery","fetchHits","axios","get","then","response","prevState","data","prevProps","map","id","webformatURL","src","alt","onClick","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"uIACAA,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,qC,uJC+CjOC,E,4MAxCbC,MAAQ,CAAEC,MAAO,I,EAEjBC,aAAe,SAAAC,GACb,EAAKC,SAAS,CACZH,MAAOE,EAAEE,cAAcC,S,EAI3BC,aAAe,SAAAJ,GACbA,EAAEK,iBACFC,QAAQC,IAAI,EAAKV,OACjB,EAAKW,MAAMC,SAAS,EAAKZ,MAAMC,OAE/B,EAAKG,SAAS,CAAEH,MAAO,M,4CAGzB,WAEE,OACE,wBAAQY,UAAWC,IAAOf,UAA1B,SACE,uBAAMc,UAAWC,IAAOC,WAAYH,SAAUI,KAAKT,aAAnD,UACE,wBAAQU,KAAK,SAASJ,UAAWC,IAAOI,iBAAxC,SACE,sBAAML,UAAWC,IAAOK,sBAAxB,sBAGF,uBACEN,UAAWC,IAAOM,gBAClBH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZjB,MAAOU,KAAKhB,MAAMC,MAClBuB,SAAUR,KAAKd,wB,GAjCHuB,aCyDTC,E,4MAvDb1B,MAAQ,CACN2B,KAAM,GACNC,YAAa,EACbC,YAAa,I,EAafC,cAAgB,SAAA7B,GACd,EAAKG,SAAS,CAACyB,YAAa5B,IAC5B,EAAK8B,a,EAIPA,UAAY,WACV,MAAqC,EAAK/B,MAAlC4B,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,YAErBG,IACGC,IADH,4EAEuEJ,EAFvE,iBAE2FD,EAF3F,kCAIGM,MAAK,SAAAC,GACJ,EAAK/B,UAAS,SAAAgC,GAAS,MAAK,CAC1BT,KAAK,GAAD,mBAAMS,EAAUT,MAAhB,YAAyBQ,EAASE,KAAKV,OAC3CC,YAAaQ,EAAUR,YAAc,U,uDA1B7C,c,gCAIA,SAAmBU,EAAWF,GACxBA,EAAUP,cAAgBb,KAAKhB,MAAM6B,aAC3Cb,KAAKe,c,oBAyBL,WACE,IAAQJ,EAASX,KAAKhB,MAAd2B,KACR,OACE,gCACE,cAAC,EAAD,CAAWf,SAAUI,KAAKc,gBAC1B,oBAAIjB,UAAU,eAAd,SACGc,EAAKY,KAAI,gBAAEC,EAAF,EAAEA,GAAIC,EAAN,EAAMA,aAAN,OACR,oBAAI5B,UAAU,mBAAd,SACE,qBAAK6B,IAAKD,EAAcE,IAAI,GAAG9B,UAAU,4BADJ2B,QAK3C,wBAAQvB,KAAK,SAAS2B,QAAS5B,KAAKe,UAApC,8B,GAlDUN,a,MCGlBoB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.f375815c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchbar_Searchbar__1mswQ\",\"SearchForm\":\"searchbar_SearchForm__EnCsG\",\"SearchFormButton\":\"searchbar_SearchFormButton__3_7Cc\",\"SearchFormButtonLabel\":\"searchbar_SearchFormButtonLabel__Tx2Ht\",\"SearchFormInput\":\"searchbar_SearchFormInput__2ar8V\"};","// Модули\nimport React, { Component } from 'react';\n\n// Стили\nimport styles from '../Searchbar/searchbar.module.css';\n\n\nclass Searchbar extends Component {\n  state = { query: '' };\n  \n  handleChange = e => {\n    this.setState({\n      query: e.currentTarget.value\n    })\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    console.log(this.state)\n    this.props.onSubmit(this.state.query);\n\n    this.setState({ query: '' });\n  };\n\n  render() {\n   \n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.query}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  };\n}\n\nexport default Searchbar;\n","// Модули\nimport React, { Component } from 'react';\nimport axios from 'axios';\n\n// Компоненты\nimport Searchbar from './components/Searchbar';\n// import ImageGallery from './components/ImageGallery';\n\nclass App extends Component {\n  state = {\n    hits: [],\n    currentPage: 1,\n    searchQuery: '',\n  };\n\n  componentDidMount() {\n\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n  this.fetchHits();\n    };\n  };\n\n  onChangeQuery = query => {\n    this.setState({searchQuery: query});\n    this.fetchHits();\n\n  };\n\n  fetchHits = () => {\n    const { currentPage, searchQuery } = this.state;\n\n    axios\n      .get(\n      `https://pixabay.com/api/?key=21824668-10aeb8c8af54ec25684dd6884&q=${searchQuery}&page=${currentPage}&image_type=photo&per_page=12`\n    )\n      .then(response => {\n        this.setState(prevState => ({\n          hits: [...prevState.hits, ...response.data.hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      });\n  }\n\n  render() {\n    const { hits } = this.state;\n    return (\n      <div>\n        <Searchbar onSubmit={this.onChangeQuery}/>\n        <ul className=\"ImageGallery\">\n          {hits.map(({id, webformatURL}) =>\n            <li className=\"ImageGalleryItem\" key ={id}>\n              <img src={webformatURL} alt=\"\" className=\"ImageGalleryItem-image\" />\n            </li>)}\n        </ul>\n        {/* <ImageGallery /> */}\n        <button type=\"button\" onClick={this.fetchHits}>Load more</button>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// Модули\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\n// Компоненты\nimport App from './App';\n\n// Стили\nimport 'modern-normalize/modern-normalize.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}