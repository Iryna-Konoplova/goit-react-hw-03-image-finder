{"version":3,"sources":["components/Searchbar/searchbar.module.css","components/Searchbar/Searchbar.js","App.js","index.js"],"names":["module","exports","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","console","log","props","onSubmit","className","styles","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","App","hits","currentPage","searchQuery","onChangeQuery","fetchHits","axios","get","then","response","prevState","data","prevProps","map","id","webformatURL","src","alt","onClick","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"uIACAA,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,qC,uJC6CjOC,E,4MAvCbC,MAAQ,CAAEC,MAAO,I,EAEjBC,aAAe,SAAAC,GACb,EAAKC,SAAS,CACZH,MAAOE,EAAEE,cAAcC,S,EAI3BC,aAAe,SAAAJ,GACbA,EAAEK,iBACFC,QAAQC,IAAI,EAAKV,OACjB,EAAKW,MAAMC,SAAS,EAAKZ,MAAMC,OAE/B,EAAKG,SAAS,CAAEH,MAAO,M,4CAGzB,WACE,OACE,wBAAQY,UAAWC,IAAOf,UAA1B,SACE,uBAAMc,UAAWC,IAAOC,WAAYH,SAAUI,KAAKT,aAAnD,UACE,wBAAQU,KAAK,SAASJ,UAAWC,IAAOI,iBAAxC,SACE,sBAAML,UAAWC,IAAOK,sBAAxB,sBAGF,uBACEN,UAAWC,IAAOM,gBAClBH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZjB,MAAOU,KAAKhB,MAAMC,MAClBuB,SAAUR,KAAKd,wB,GAhCHuB,aC8DTC,E,4MA3Db1B,MAAQ,CACN2B,KAAM,GACNC,YAAa,EACbC,YAAa,I,EAWfC,cAAgB,SAAA7B,GACd,EAAKG,SAAS,CAAEyB,YAAa5B,EAAQ2B,YAAa,EAAGD,KAAM,KAC3D,EAAKI,a,EAGPA,UAAY,WACV,MAAqC,EAAK/B,MAAlC4B,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,YAErBG,IACGC,IADH,4EAEyEJ,EAFzE,iBAE6FD,EAF7F,kCAIGM,MAAK,SAAAC,GACJ,EAAK/B,UAAS,SAAAgC,GAAS,MAAK,CAC1BT,KAAK,GAAD,mBAAMS,EAAUT,MAAhB,YAAyBQ,EAASE,KAAKV,OAC3CC,YAAaQ,EAAUR,YAAc,U,uDAvB7C,c,gCAEA,SAAmBU,EAAWF,GACxBA,EAAUP,cAAgBb,KAAKhB,MAAM6B,aACvCb,KAAKe,c,oBAwBT,WACE,IAAQJ,EAASX,KAAKhB,MAAd2B,KACR,OACE,gCACE,cAAC,EAAD,CAAWf,SAAUI,KAAKc,gBAC1B,oBAAIjB,UAAU,eAAd,SACGc,EAAKY,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,aAAP,OACR,oBAAI5B,UAAU,mBAAd,SACE,qBACE6B,IAAKD,EACLE,IAAI,GACJ9B,UAAU,4BAJwB2B,QAU1C,wBAAQvB,KAAK,SAAS2B,QAAS5B,KAAKe,UAApC,8B,GApDUN,a,MCElBoB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.efdfd326.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchbar_Searchbar__1mswQ\",\"SearchForm\":\"searchbar_SearchForm__EnCsG\",\"SearchFormButton\":\"searchbar_SearchFormButton__3_7Cc\",\"SearchFormButtonLabel\":\"searchbar_SearchFormButtonLabel__Tx2Ht\",\"SearchFormInput\":\"searchbar_SearchFormInput__2ar8V\"};","// Модули\nimport React, { Component } from 'react';\n\n// Стили\nimport styles from '../Searchbar/searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = { query: '' };\n\n  handleChange = e => {\n    this.setState({\n      query: e.currentTarget.value,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    console.log(this.state);\n    this.props.onSubmit(this.state.query);\n\n    this.setState({ query: '' });\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.query}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","// Модули\nimport React, { Component } from 'react';\nimport axios from 'axios';\n\n// Компоненты\nimport Searchbar from './components/Searchbar';\n// import ImageGallery from './components/ImageGallery';\n\nclass App extends Component {\n  state = {\n    hits: [],\n    currentPage: 1,\n    searchQuery: '',\n  };\n\n  componentDidMount() {}\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchHits();\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({ searchQuery: query,  currentPage: 1, hits: []});\n    this.fetchHits();\n  };\n\n  fetchHits = () => {\n    const { currentPage, searchQuery } = this.state;\n\n    axios\n      .get(\n        `https://pixabay.com/api/?key=21824668-10aeb8c8af54ec25684dd6884&q=${searchQuery}&page=${currentPage}&image_type=photo&per_page=12`,\n      )\n      .then(response => {\n        this.setState(prevState => ({\n          hits: [...prevState.hits, ...response.data.hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      });\n  };\n\n  render() {\n    const { hits } = this.state;\n    return (\n      <div>\n        <Searchbar onSubmit={this.onChangeQuery} />\n        <ul className=\"ImageGallery\">\n          {hits.map(({ id, webformatURL }) => (\n            <li className=\"ImageGalleryItem\" key={id}>\n              <img\n                src={webformatURL}\n                alt=\"\"\n                className=\"ImageGalleryItem-image\"\n              />\n            </li>\n          ))}\n        </ul>\n        {/* <ImageGallery /> */}\n        <button type=\"button\" onClick={this.fetchHits}>\n          Load more\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// Модули\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\n// Компоненты\nimport App from './App';\n\n// Стили\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}